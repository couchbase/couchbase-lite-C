<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Couchbase Lite C: Queries</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Couchbase Lite C
   </div>
   <div id="projectbrief">Couchbase Lite C API</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a>  </div>
  <div class="headertitle"><div class="title">Queries</div></div>
</div><!--header-->
<div class="contents">

<p>A CBLQuery represents a compiled database query.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_c_b_l_value_index_configuration.html">CBLValueIndexConfiguration</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Value Index Configuration.  <a href="struct_c_b_l_value_index_configuration.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_c_b_l_full_text_index_configuration.html">CBLFullTextIndexConfiguration</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Full-Text Index Configuration.  <a href="struct_c_b_l_full_text_index_configuration.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="typedef-members" name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ga9c80e113b863821f9f82778dc0650f22"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="group__queries.html#ga9c80e113b863821f9f82778dc0650f22">CBLQuery</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__queries.html#ga9c80e113b863821f9f82778dc0650f22">CBLQuery</a></td></tr>
<tr class="memdesc:ga9c80e113b863821f9f82778dc0650f22"><td class="mdescLeft">&#160;</td><td class="mdescRight">A compiled database query.  <a href="group__queries.html#ga9c80e113b863821f9f82778dc0650f22">More...</a><br /></td></tr>
<tr class="separator:ga9c80e113b863821f9f82778dc0650f22"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9ebc8432e036873fc95f9d575cc42ebd"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="group__queries.html#ga9ebc8432e036873fc95f9d575cc42ebd">CBLResultSet</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__queries.html#ga9ebc8432e036873fc95f9d575cc42ebd">CBLResultSet</a></td></tr>
<tr class="memdesc:ga9ebc8432e036873fc95f9d575cc42ebd"><td class="mdescLeft">&#160;</td><td class="mdescRight">An iterator over the rows resulting from running a query.  <a href="group__queries.html#ga9ebc8432e036873fc95f9d575cc42ebd">More...</a><br /></td></tr>
<tr class="separator:ga9ebc8432e036873fc95f9d575cc42ebd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="enum-members" name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ga5b419d879de00f45eb417c451e21ac82"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__queries.html#ga5b419d879de00f45eb417c451e21ac82">CBLQueryLanguage</a> : uint32_t { <a class="el" href="group__queries.html#gga5b419d879de00f45eb417c451e21ac82aa86d4532291fc8f17284dcb61e198d76">kCBLJSONLanguage</a>
, <a class="el" href="group__queries.html#gga5b419d879de00f45eb417c451e21ac82a25fd238b9aa83867526649ef2769446e">kCBLN1QLLanguage</a>
 }</td></tr>
<tr class="separator:ga5b419d879de00f45eb417c451e21ac82"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader">Change listener</h2></td></tr>
<tr><td class="ititle" colspan="2"><p >Adding a change listener to a query turns it into a "live query".</p>
<p >When changes are made to documents, the query will periodically re-run and compare its results with the prior results; if the new results are different, the listener callback will be called.</p>
<dl class="section note"><dt>Note</dt><dd>The result set passed to the listener is the <em>entire new result set</em>, not just the rows that changed. </dd></dl>
</td></tr>
<tr class="memitem:ga26504f6654f5812f7e685e7f46db1beb"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__queries.html#ga26504f6654f5812f7e685e7f46db1beb">CBLQueryChangeListener</a>) (void *<a class="el" href="_c_b_l___compat_8h.html#a11b365d966cc268be54e8f6cfd1906f8">_cbl_nullable</a> context, <a class="el" href="group__queries.html#ga9c80e113b863821f9f82778dc0650f22">CBLQuery</a> *query, <a class="el" href="group__listeners.html#gae39d1de7cc3a46004b597f5eb80620c6">CBLListenerToken</a> *token)</td></tr>
<tr class="memdesc:ga26504f6654f5812f7e685e7f46db1beb"><td class="mdescLeft">&#160;</td><td class="mdescRight">A callback to be invoked after the query's results have changed.  <a href="group__queries.html#ga26504f6654f5812f7e685e7f46db1beb">More...</a><br /></td></tr>
<tr class="separator:ga26504f6654f5812f7e685e7f46db1beb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabbf8aefc16da25498f1f9d1ddb9623a4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_c_b_l___compat_8h.html#aeb687d63109ee195bdc9e16c21d4dc9b">_cbl_warn_unused</a> <a class="el" href="group__listeners.html#gae39d1de7cc3a46004b597f5eb80620c6">CBLListenerToken</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__queries.html#gabbf8aefc16da25498f1f9d1ddb9623a4">CBLQuery_AddChangeListener</a> (<a class="el" href="group__queries.html#ga9c80e113b863821f9f82778dc0650f22">CBLQuery</a> *query, <a class="el" href="group__queries.html#ga26504f6654f5812f7e685e7f46db1beb">CBLQueryChangeListener</a> listener, void *<a class="el" href="_c_b_l___compat_8h.html#a11b365d966cc268be54e8f6cfd1906f8">_cbl_nullable</a> context)</td></tr>
<tr class="memdesc:gabbf8aefc16da25498f1f9d1ddb9623a4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Registers a change listener callback with a query, turning it into a "live query" until the listener is removed (via <a class="el" href="group__listeners.html#gabf0c488ac3bad12daa7d2c7d6ae7f0b4">CBLListener_Remove</a>).  <a href="group__queries.html#gabbf8aefc16da25498f1f9d1ddb9623a4">More...</a><br /></td></tr>
<tr class="separator:gabbf8aefc16da25498f1f9d1ddb9623a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad7f061ff248c077acc5d3b79a168ff57"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_c_b_l___compat_8h.html#aeb687d63109ee195bdc9e16c21d4dc9b">_cbl_warn_unused</a> <a class="el" href="group__queries.html#ga9ebc8432e036873fc95f9d575cc42ebd">CBLResultSet</a> *<a class="el" href="_c_b_l___compat_8h.html#a11b365d966cc268be54e8f6cfd1906f8">_cbl_nullable</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__queries.html#gad7f061ff248c077acc5d3b79a168ff57">CBLQuery_CopyCurrentResults</a> (const <a class="el" href="group__queries.html#ga9c80e113b863821f9f82778dc0650f22">CBLQuery</a> *query, <a class="el" href="group__listeners.html#gae39d1de7cc3a46004b597f5eb80620c6">CBLListenerToken</a> *listener, <a class="el" href="struct_c_b_l_error.html">CBLError</a> *<a class="el" href="_c_b_l___compat_8h.html#a11b365d966cc268be54e8f6cfd1906f8">_cbl_nullable</a> outError)</td></tr>
<tr class="memdesc:gad7f061ff248c077acc5d3b79a168ff57"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the query's <em>entire</em> current result set, after it's been announced via a call to the listener's callback.  <a href="group__queries.html#gad7f061ff248c077acc5d3b79a168ff57">More...</a><br /></td></tr>
<tr class="separator:gad7f061ff248c077acc5d3b79a168ff57"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader">Query objects</h2></td></tr>
<tr class="memitem:gaaf05594d8f1c5d741fa1841aa00782aa"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_c_b_l___compat_8h.html#aeb687d63109ee195bdc9e16c21d4dc9b">_cbl_warn_unused</a> <a class="el" href="group__queries.html#ga9c80e113b863821f9f82778dc0650f22">CBLQuery</a> *<a class="el" href="_c_b_l___compat_8h.html#a11b365d966cc268be54e8f6cfd1906f8">_cbl_nullable</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__queries.html#gaaf05594d8f1c5d741fa1841aa00782aa">CBLDatabase_CreateQuery</a> (const <a class="el" href="group__database.html#ga2eef6f33d930c0cee23013f845dc77e0">CBLDatabase</a> *db, <a class="el" href="group__queries.html#ga5b419d879de00f45eb417c451e21ac82">CBLQueryLanguage</a> language, <a class="el" href="group___f_l_slice.html#gabab0e7979cf6c99ffe836e84e55b6c76">FLString</a> queryString, int *<a class="el" href="_c_b_l___compat_8h.html#a11b365d966cc268be54e8f6cfd1906f8">_cbl_nullable</a> outErrorPos, <a class="el" href="struct_c_b_l_error.html">CBLError</a> *<a class="el" href="_c_b_l___compat_8h.html#a11b365d966cc268be54e8f6cfd1906f8">_cbl_nullable</a> outError)</td></tr>
<tr class="memdesc:gaaf05594d8f1c5d741fa1841aa00782aa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a new query by compiling the input string.  <a href="group__queries.html#gaaf05594d8f1c5d741fa1841aa00782aa">More...</a><br /></td></tr>
<tr class="separator:gaaf05594d8f1c5d741fa1841aa00782aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaeeb90fe92a3c9a32f6956efe3914ade5"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="group__queries.html#ga9c80e113b863821f9f82778dc0650f22">CBLQuery</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__queries.html#gaeeb90fe92a3c9a32f6956efe3914ade5">CBLQuery_Retain</a> (const <a class="el" href="group__queries.html#ga9c80e113b863821f9f82778dc0650f22">CBLQuery</a> *t)</td></tr>
<tr class="separator:gaeeb90fe92a3c9a32f6956efe3914ade5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9e9d4b09cb767cdaa820996ea9992f43"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__queries.html#ga9e9d4b09cb767cdaa820996ea9992f43">CBLQuery_Release</a> (const <a class="el" href="group__queries.html#ga9c80e113b863821f9f82778dc0650f22">CBLQuery</a> *t)</td></tr>
<tr class="separator:ga9e9d4b09cb767cdaa820996ea9992f43"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3423414402261bfc1a8d66080b09ec96"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__queries.html#ga3423414402261bfc1a8d66080b09ec96">CBLQuery_SetParameters</a> (<a class="el" href="group__queries.html#ga9c80e113b863821f9f82778dc0650f22">CBLQuery</a> *query, <a class="el" href="group__types.html#ga20f7b17c87c48ffd2ff6d1cfeddd44e6">FLDict</a> parameters)</td></tr>
<tr class="memdesc:ga3423414402261bfc1a8d66080b09ec96"><td class="mdescLeft">&#160;</td><td class="mdescRight">Assigns values to the query's parameters.  <a href="group__queries.html#ga3423414402261bfc1a8d66080b09ec96">More...</a><br /></td></tr>
<tr class="separator:ga3423414402261bfc1a8d66080b09ec96"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0d7b7f2c00c906b3dc0b140695fd2535"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__types.html#ga20f7b17c87c48ffd2ff6d1cfeddd44e6">FLDict</a> <a class="el" href="_c_b_l___compat_8h.html#a11b365d966cc268be54e8f6cfd1906f8">_cbl_nullable</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__queries.html#ga0d7b7f2c00c906b3dc0b140695fd2535">CBLQuery_Parameters</a> (const <a class="el" href="group__queries.html#ga9c80e113b863821f9f82778dc0650f22">CBLQuery</a> *query)</td></tr>
<tr class="memdesc:ga0d7b7f2c00c906b3dc0b140695fd2535"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the query's current parameter bindings, if any.  <a href="group__queries.html#ga0d7b7f2c00c906b3dc0b140695fd2535">More...</a><br /></td></tr>
<tr class="separator:ga0d7b7f2c00c906b3dc0b140695fd2535"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7a7a711d921f04ae41397f78c140abba"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_c_b_l___compat_8h.html#aeb687d63109ee195bdc9e16c21d4dc9b">_cbl_warn_unused</a> <a class="el" href="group__queries.html#ga9ebc8432e036873fc95f9d575cc42ebd">CBLResultSet</a> *<a class="el" href="_c_b_l___compat_8h.html#a11b365d966cc268be54e8f6cfd1906f8">_cbl_nullable</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__queries.html#ga7a7a711d921f04ae41397f78c140abba">CBLQuery_Execute</a> (<a class="el" href="group__queries.html#ga9c80e113b863821f9f82778dc0650f22">CBLQuery</a> *, <a class="el" href="struct_c_b_l_error.html">CBLError</a> *<a class="el" href="_c_b_l___compat_8h.html#a11b365d966cc268be54e8f6cfd1906f8">_cbl_nullable</a> outError)</td></tr>
<tr class="memdesc:ga7a7a711d921f04ae41397f78c140abba"><td class="mdescLeft">&#160;</td><td class="mdescRight">Runs the query, returning the results.  <a href="group__queries.html#ga7a7a711d921f04ae41397f78c140abba">More...</a><br /></td></tr>
<tr class="separator:ga7a7a711d921f04ae41397f78c140abba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4c6f1b2adc39570525ef32c2df7edead"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_c_b_l___compat_8h.html#aeb687d63109ee195bdc9e16c21d4dc9b">_cbl_warn_unused</a> <a class="el" href="struct_f_l_slice_result.html">FLSliceResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__queries.html#ga4c6f1b2adc39570525ef32c2df7edead">CBLQuery_Explain</a> (const <a class="el" href="group__queries.html#ga9c80e113b863821f9f82778dc0650f22">CBLQuery</a> *)</td></tr>
<tr class="memdesc:ga4c6f1b2adc39570525ef32c2df7edead"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns information about the query, including the translated SQLite form, and the search strategy.  <a href="group__queries.html#ga4c6f1b2adc39570525ef32c2df7edead">More...</a><br /></td></tr>
<tr class="separator:ga4c6f1b2adc39570525ef32c2df7edead"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadef5a733ba8ad85acc107aca0de196ea"><td class="memItemLeft" align="right" valign="top">unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__queries.html#gadef5a733ba8ad85acc107aca0de196ea">CBLQuery_ColumnCount</a> (const <a class="el" href="group__queries.html#ga9c80e113b863821f9f82778dc0650f22">CBLQuery</a> *)</td></tr>
<tr class="memdesc:gadef5a733ba8ad85acc107aca0de196ea"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the number of columns in each result.  <a href="group__queries.html#gadef5a733ba8ad85acc107aca0de196ea">More...</a><br /></td></tr>
<tr class="separator:gadef5a733ba8ad85acc107aca0de196ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga50ec9db5507921022bc0a1947da9d5eb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_f_l_slice.html">FLSlice</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__queries.html#ga50ec9db5507921022bc0a1947da9d5eb">CBLQuery_ColumnName</a> (const <a class="el" href="group__queries.html#ga9c80e113b863821f9f82778dc0650f22">CBLQuery</a> *, unsigned columnIndex)</td></tr>
<tr class="memdesc:ga50ec9db5507921022bc0a1947da9d5eb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the name of a column in the result.  <a href="group__queries.html#ga50ec9db5507921022bc0a1947da9d5eb">More...</a><br /></td></tr>
<tr class="separator:ga50ec9db5507921022bc0a1947da9d5eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader">Result sets</h2></td></tr>
<tr><td class="ititle" colspan="2"><p >A <code>CBLResultSet</code> is an iterator over the results returned by a query.</p>
<p >It exposes one result at a time &ndash; as a collection of values indexed either by position or by name &ndash; and can be stepped from one result to the next.</p>
<p >It's important to note that the initial position of the iterator is <em>before</em> the first result, so <a class="el" href="group__queries.html#ga7a908902f5f46ff71ae73e5747b4df94">CBLResultSet_Next</a> must be called <em>first</em>. Example:</p>
<div class="fragment"><div class="line"><a class="code hl_typedef" href="group__queries.html#ga9ebc8432e036873fc95f9d575cc42ebd">CBLResultSet</a> *rs = <a class="code hl_function" href="group__queries.html#ga7a7a711d921f04ae41397f78c140abba">CBLQuery_Execute</a>(query, &amp;error);</div>
<div class="line">assert(rs);</div>
<div class="line"><span class="keywordflow">while</span> (<a class="code hl_function" href="group__queries.html#ga7a908902f5f46ff71ae73e5747b4df94">CBLResultSet_Next</a>(rs) {</div>
<div class="line">    <a class="code hl_typedef" href="group__types.html#gae0bde7a426f944395dbe59e3d52ba2c7">FLValue</a> aValue = <a class="code hl_function" href="group__queries.html#gae5ce9eb45abb997951a8fda71b309d35">CBLResultSet_ValueAtIndex</a>(rs, 0);</div>
<div class="line">    ...</div>
<div class="line">}</div>
<div class="line"><a class="code hl_function" href="group__queries.html#gaa1c246d416e05c7e161fe2c894a645ae">CBLResultSet_Release</a>(rs);</div>
<div class="ttc" id="agroup__queries_html_ga7a7a711d921f04ae41397f78c140abba"><div class="ttname"><a href="group__queries.html#ga7a7a711d921f04ae41397f78c140abba">CBLQuery_Execute</a></div><div class="ttdeci">_cbl_warn_unused CBLResultSet *_cbl_nullable CBLQuery_Execute(CBLQuery *, CBLError *_cbl_nullable outError)</div><div class="ttdoc">Runs the query, returning the results.</div></div>
<div class="ttc" id="agroup__queries_html_ga7a908902f5f46ff71ae73e5747b4df94"><div class="ttname"><a href="group__queries.html#ga7a908902f5f46ff71ae73e5747b4df94">CBLResultSet_Next</a></div><div class="ttdeci">_cbl_warn_unused bool CBLResultSet_Next(CBLResultSet *)</div><div class="ttdoc">Moves the result-set iterator to the next result.</div></div>
<div class="ttc" id="agroup__queries_html_ga9ebc8432e036873fc95f9d575cc42ebd"><div class="ttname"><a href="group__queries.html#ga9ebc8432e036873fc95f9d575cc42ebd">CBLResultSet</a></div><div class="ttdeci">struct CBLResultSet CBLResultSet</div><div class="ttdoc">An iterator over the rows resulting from running a query.</div><div class="ttdef"><b>Definition:</b> CBLBase.h:218</div></div>
<div class="ttc" id="agroup__queries_html_gaa1c246d416e05c7e161fe2c894a645ae"><div class="ttname"><a href="group__queries.html#gaa1c246d416e05c7e161fe2c894a645ae">CBLResultSet_Release</a></div><div class="ttdeci">static void CBLResultSet_Release(const CBLResultSet *t)</div><div class="ttdef"><b>Definition:</b> CBLQuery.h:179</div></div>
<div class="ttc" id="agroup__queries_html_gae5ce9eb45abb997951a8fda71b309d35"><div class="ttname"><a href="group__queries.html#gae5ce9eb45abb997951a8fda71b309d35">CBLResultSet_ValueAtIndex</a></div><div class="ttdeci">FLValue CBLResultSet_ValueAtIndex(const CBLResultSet *, unsigned index)</div><div class="ttdoc">Returns the value of a column of the current result, given its (zero-based) numeric index.</div></div>
<div class="ttc" id="agroup__types_html_gae0bde7a426f944395dbe59e3d52ba2c7"><div class="ttname"><a href="group__types.html#gae0bde7a426f944395dbe59e3d52ba2c7">FLValue</a></div><div class="ttdeci">const struct _FLValue * FLValue</div><div class="ttdoc">A reference to a value of any type.</div><div class="ttdef"><b>Definition:</b> FLBase.h:35</div></div>
</div><!-- fragment --> </td></tr>
<tr class="memitem:ga7a908902f5f46ff71ae73e5747b4df94"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_c_b_l___compat_8h.html#aeb687d63109ee195bdc9e16c21d4dc9b">_cbl_warn_unused</a> bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__queries.html#ga7a908902f5f46ff71ae73e5747b4df94">CBLResultSet_Next</a> (<a class="el" href="group__queries.html#ga9ebc8432e036873fc95f9d575cc42ebd">CBLResultSet</a> *)</td></tr>
<tr class="memdesc:ga7a908902f5f46ff71ae73e5747b4df94"><td class="mdescLeft">&#160;</td><td class="mdescRight">Moves the result-set iterator to the next result.  <a href="group__queries.html#ga7a908902f5f46ff71ae73e5747b4df94">More...</a><br /></td></tr>
<tr class="separator:ga7a908902f5f46ff71ae73e5747b4df94"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae5ce9eb45abb997951a8fda71b309d35"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__types.html#gae0bde7a426f944395dbe59e3d52ba2c7">FLValue</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__queries.html#gae5ce9eb45abb997951a8fda71b309d35">CBLResultSet_ValueAtIndex</a> (const <a class="el" href="group__queries.html#ga9ebc8432e036873fc95f9d575cc42ebd">CBLResultSet</a> *, unsigned index)</td></tr>
<tr class="memdesc:gae5ce9eb45abb997951a8fda71b309d35"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the value of a column of the current result, given its (zero-based) numeric index.  <a href="group__queries.html#gae5ce9eb45abb997951a8fda71b309d35">More...</a><br /></td></tr>
<tr class="separator:gae5ce9eb45abb997951a8fda71b309d35"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1e4443df45a4e56714a1790b841f0b0e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__types.html#gae0bde7a426f944395dbe59e3d52ba2c7">FLValue</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__queries.html#ga1e4443df45a4e56714a1790b841f0b0e">CBLResultSet_ValueForKey</a> (const <a class="el" href="group__queries.html#ga9ebc8432e036873fc95f9d575cc42ebd">CBLResultSet</a> *, <a class="el" href="group___f_l_slice.html#gabab0e7979cf6c99ffe836e84e55b6c76">FLString</a> key)</td></tr>
<tr class="memdesc:ga1e4443df45a4e56714a1790b841f0b0e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the value of a column of the current result, given its name.  <a href="group__queries.html#ga1e4443df45a4e56714a1790b841f0b0e">More...</a><br /></td></tr>
<tr class="separator:ga1e4443df45a4e56714a1790b841f0b0e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga57fdd6216578112e0ec7b5073f910983"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__types.html#ga7ea954b03aea4f33ec0f55f13aba5f90">FLArray</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__queries.html#ga57fdd6216578112e0ec7b5073f910983">CBLResultSet_ResultArray</a> (const <a class="el" href="group__queries.html#ga9ebc8432e036873fc95f9d575cc42ebd">CBLResultSet</a> *)</td></tr>
<tr class="memdesc:ga57fdd6216578112e0ec7b5073f910983"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the current result as an array of column values.  <a href="group__queries.html#ga57fdd6216578112e0ec7b5073f910983">More...</a><br /></td></tr>
<tr class="separator:ga57fdd6216578112e0ec7b5073f910983"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga639f61bd8cb0b231b5d54c49389f6a4a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__types.html#ga20f7b17c87c48ffd2ff6d1cfeddd44e6">FLDict</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__queries.html#ga639f61bd8cb0b231b5d54c49389f6a4a">CBLResultSet_ResultDict</a> (const <a class="el" href="group__queries.html#ga9ebc8432e036873fc95f9d575cc42ebd">CBLResultSet</a> *)</td></tr>
<tr class="memdesc:ga639f61bd8cb0b231b5d54c49389f6a4a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the current result as a dictionary mapping column names to values.  <a href="group__queries.html#ga639f61bd8cb0b231b5d54c49389f6a4a">More...</a><br /></td></tr>
<tr class="separator:ga639f61bd8cb0b231b5d54c49389f6a4a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1bb17015fa56d5df03ae81725beadca5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__queries.html#ga9c80e113b863821f9f82778dc0650f22">CBLQuery</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__queries.html#ga1bb17015fa56d5df03ae81725beadca5">CBLResultSet_GetQuery</a> (const <a class="el" href="group__queries.html#ga9ebc8432e036873fc95f9d575cc42ebd">CBLResultSet</a> *rs)</td></tr>
<tr class="memdesc:ga1bb17015fa56d5df03ae81725beadca5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the Query that created this ResultSet.  <a href="group__queries.html#ga1bb17015fa56d5df03ae81725beadca5">More...</a><br /></td></tr>
<tr class="separator:ga1bb17015fa56d5df03ae81725beadca5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf2d0bfa628803e3d85b5db0afd6b6ba9"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="group__queries.html#ga9ebc8432e036873fc95f9d575cc42ebd">CBLResultSet</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__queries.html#gaf2d0bfa628803e3d85b5db0afd6b6ba9">CBLResultSet_Retain</a> (const <a class="el" href="group__queries.html#ga9ebc8432e036873fc95f9d575cc42ebd">CBLResultSet</a> *t)</td></tr>
<tr class="separator:gaf2d0bfa628803e3d85b5db0afd6b6ba9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa1c246d416e05c7e161fe2c894a645ae"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__queries.html#gaa1c246d416e05c7e161fe2c894a645ae">CBLResultSet_Release</a> (const <a class="el" href="group__queries.html#ga9ebc8432e036873fc95f9d575cc42ebd">CBLResultSet</a> *t)</td></tr>
<tr class="separator:gaa1c246d416e05c7e161fe2c894a645ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader">Database Indexes</h2></td></tr>
<tr><td class="ititle" colspan="2"><p >Indexes are used to speed up queries by allowing fast &ndash; O(log n) &ndash; lookup of documents that have specific values or ranges of values.</p>
<p >The values may be properties, or expressions based on properties.</p>
<p >An index will speed up queries that use the expression it indexes, but it takes up space in the database file, and it slows down document saves slightly because it needs to be kept up to date when documents change.</p>
<p >Tuning a database with indexes can be a tricky task. Fortunately, a lot has been written about it in the relational-database (SQL) realm, and much of that advice holds for Couchbase Lite. You may find SQLite's documentation particularly helpful since Couchbase Lite's querying is based on SQLite.</p>
<p >Two types of indexes are currently supported: Value indexes speed up queries by making it possible to look up property (or expression) values without scanning every document. They're just like regular indexes in SQL or N1QL. Multiple expressions are supported; the first is the primary key, second is secondary. Expressions must evaluate to scalar types (boolean, number, string). Full-Text Search (FTS) indexes enable fast search of natural-language words or phrases by using the <code>MATCH</code> operator in a query. A FTS index is <b>required</b> for full-text search: a query with a <code>MATCH</code> operator will fail to compile unless there is already a FTS index for the property/expression being matched. Only a single expression is currently allowed, and it must evaluate to a string. </p>
</td></tr>
<tr class="memitem:gae03c8979d2c6f21c7bd80b10d0972b24"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__queries.html#gae03c8979d2c6f21c7bd80b10d0972b24">CBLDatabase_CreateValueIndex</a> (<a class="el" href="group__database.html#ga2eef6f33d930c0cee23013f845dc77e0">CBLDatabase</a> *db, <a class="el" href="group___f_l_slice.html#gabab0e7979cf6c99ffe836e84e55b6c76">FLString</a> name, <a class="el" href="struct_c_b_l_value_index_configuration.html">CBLValueIndexConfiguration</a> config, <a class="el" href="struct_c_b_l_error.html">CBLError</a> *<a class="el" href="_c_b_l___compat_8h.html#a11b365d966cc268be54e8f6cfd1906f8">_cbl_nullable</a> outError)</td></tr>
<tr class="memdesc:gae03c8979d2c6f21c7bd80b10d0972b24"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a value index.  <a href="group__queries.html#gae03c8979d2c6f21c7bd80b10d0972b24">More...</a><br /></td></tr>
<tr class="separator:gae03c8979d2c6f21c7bd80b10d0972b24"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga848f347fb043d64f910e36f4c11bcfb6"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__queries.html#ga848f347fb043d64f910e36f4c11bcfb6">CBLDatabase_CreateFullTextIndex</a> (<a class="el" href="group__database.html#ga2eef6f33d930c0cee23013f845dc77e0">CBLDatabase</a> *db, <a class="el" href="group___f_l_slice.html#gabab0e7979cf6c99ffe836e84e55b6c76">FLString</a> name, <a class="el" href="struct_c_b_l_full_text_index_configuration.html">CBLFullTextIndexConfiguration</a> config, <a class="el" href="struct_c_b_l_error.html">CBLError</a> *<a class="el" href="_c_b_l___compat_8h.html#a11b365d966cc268be54e8f6cfd1906f8">_cbl_nullable</a> outError)</td></tr>
<tr class="memdesc:ga848f347fb043d64f910e36f4c11bcfb6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a full-text index.  <a href="group__queries.html#ga848f347fb043d64f910e36f4c11bcfb6">More...</a><br /></td></tr>
<tr class="separator:ga848f347fb043d64f910e36f4c11bcfb6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad8d47900512c36f772279e523074386a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__queries.html#gad8d47900512c36f772279e523074386a">CBLDatabase_DeleteIndex</a> (<a class="el" href="group__database.html#ga2eef6f33d930c0cee23013f845dc77e0">CBLDatabase</a> *db, <a class="el" href="group___f_l_slice.html#gabab0e7979cf6c99ffe836e84e55b6c76">FLString</a> name, <a class="el" href="struct_c_b_l_error.html">CBLError</a> *<a class="el" href="_c_b_l___compat_8h.html#a11b365d966cc268be54e8f6cfd1906f8">_cbl_nullable</a> outError)</td></tr>
<tr class="memdesc:gad8d47900512c36f772279e523074386a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deletes an index given its name.  <a href="group__queries.html#gad8d47900512c36f772279e523074386a">More...</a><br /></td></tr>
<tr class="separator:gad8d47900512c36f772279e523074386a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1507ee5c64e2a5255205f216772be525"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_c_b_l___compat_8h.html#aeb687d63109ee195bdc9e16c21d4dc9b">_cbl_warn_unused</a> <a class="el" href="group__types.html#ga7ea954b03aea4f33ec0f55f13aba5f90">FLArray</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__queries.html#ga1507ee5c64e2a5255205f216772be525">CBLDatabase_GetIndexNames</a> (<a class="el" href="group__database.html#ga2eef6f33d930c0cee23013f845dc77e0">CBLDatabase</a> *db)</td></tr>
<tr class="memdesc:ga1507ee5c64e2a5255205f216772be525"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the names of the indexes on this database, as a Fleece array of strings.  <a href="group__queries.html#ga1507ee5c64e2a5255205f216772be525">More...</a><br /></td></tr>
<tr class="separator:ga1507ee5c64e2a5255205f216772be525"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p >A CBLQuery represents a compiled database query. </p>
<p >The query language is a large subset of the <a href="https://www.couchbase.com/products/n1ql">N1QL</a> language from Couchbase Server, which you can think of as "SQL for JSON" or "SQL++".</p>
<p >Queries may be given either in <a href="https://docs.couchbase.com/server/6.0/n1ql/n1ql-language-reference/index.html">N1QL syntax</a>, or in JSON using a <a href="https://github.com/couchbase/couchbase-lite-core/wiki/JSON-Query-Schema">schema</a> that resembles a parse tree of N1QL. The JSON syntax is harder for humans, but much more amenable to machine generation, if you need to create queries programmatically or translate them from some other form. </p>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="ga9c80e113b863821f9f82778dc0650f22" name="ga9c80e113b863821f9f82778dc0650f22"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9c80e113b863821f9f82778dc0650f22">&#9670;&nbsp;</a></span>CBLQuery</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="group__queries.html#ga9c80e113b863821f9f82778dc0650f22">CBLQuery</a> <a class="el" href="group__queries.html#ga9c80e113b863821f9f82778dc0650f22">CBLQuery</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A compiled database query. </p>

</div>
</div>
<a id="ga26504f6654f5812f7e685e7f46db1beb" name="ga26504f6654f5812f7e685e7f46db1beb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga26504f6654f5812f7e685e7f46db1beb">&#9670;&nbsp;</a></span>CBLQueryChangeListener</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* CBLQueryChangeListener) (void *<a class="el" href="_c_b_l___compat_8h.html#a11b365d966cc268be54e8f6cfd1906f8">_cbl_nullable</a> context, <a class="el" href="group__queries.html#ga9c80e113b863821f9f82778dc0650f22">CBLQuery</a> *query, <a class="el" href="group__listeners.html#gae39d1de7cc3a46004b597f5eb80620c6">CBLListenerToken</a> *token)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A callback to be invoked after the query's results have changed. </p>
<p >The actual result set can be obtained by calling <a class="el" href="group__queries.html#gad7f061ff248c077acc5d3b79a168ff57">CBLQuery_CopyCurrentResults</a>, either during the callback or at any time thereafter. </p><dl class="section warning"><dt>Warning</dt><dd>By default, this listener may be called on arbitrary threads. If your code isn't prepared for that, you may want to use <a class="el" href="group__listeners.html#gaff9f0fe643516ee9b3ba5ad6422408a3">CBLDatabase_BufferNotifications</a> so that listeners will be called in a safe context. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">context</td><td>The same <code>context</code> value that you passed when adding the listener. </td></tr>
    <tr><td class="paramname">query</td><td>The query that triggered the listener. </td></tr>
    <tr><td class="paramname">token</td><td>The token for obtaining the query results by calling <a class="el" href="group__queries.html#gad7f061ff248c077acc5d3b79a168ff57">CBLQuery_CopyCurrentResults</a>. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga9ebc8432e036873fc95f9d575cc42ebd" name="ga9ebc8432e036873fc95f9d575cc42ebd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9ebc8432e036873fc95f9d575cc42ebd">&#9670;&nbsp;</a></span>CBLResultSet</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="group__queries.html#ga9ebc8432e036873fc95f9d575cc42ebd">CBLResultSet</a> <a class="el" href="group__queries.html#ga9ebc8432e036873fc95f9d575cc42ebd">CBLResultSet</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>An iterator over the rows resulting from running a query. </p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="ga5b419d879de00f45eb417c451e21ac82" name="ga5b419d879de00f45eb417c451e21ac82"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5b419d879de00f45eb417c451e21ac82">&#9670;&nbsp;</a></span>CBLQueryLanguage</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__queries.html#ga5b419d879de00f45eb417c451e21ac82">CBLQueryLanguage</a> : uint32_t</td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="gga5b419d879de00f45eb417c451e21ac82aa86d4532291fc8f17284dcb61e198d76" name="gga5b419d879de00f45eb417c451e21ac82aa86d4532291fc8f17284dcb61e198d76"></a>kCBLJSONLanguage&#160;</td><td class="fielddoc"><p ><a href="https://github.com/couchbase/couchbase-lite-core/wiki/JSON-Query-Schema">JSON query schema</a> </p>
</td></tr>
<tr><td class="fieldname"><a id="gga5b419d879de00f45eb417c451e21ac82a25fd238b9aa83867526649ef2769446e" name="gga5b419d879de00f45eb417c451e21ac82a25fd238b9aa83867526649ef2769446e"></a>kCBLN1QLLanguage&#160;</td><td class="fielddoc"><p ><a href="https://docs.couchbase.com/server/6.0/n1ql/n1ql-language-reference/index.html">N1QL syntax</a> </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga848f347fb043d64f910e36f4c11bcfb6" name="ga848f347fb043d64f910e36f4c11bcfb6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga848f347fb043d64f910e36f4c11bcfb6">&#9670;&nbsp;</a></span>CBLDatabase_CreateFullTextIndex()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool CBLDatabase_CreateFullTextIndex </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__database.html#ga2eef6f33d930c0cee23013f845dc77e0">CBLDatabase</a> *&#160;</td>
          <td class="paramname"><em>db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___f_l_slice.html#gabab0e7979cf6c99ffe836e84e55b6c76">FLString</a>&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_c_b_l_full_text_index_configuration.html">CBLFullTextIndexConfiguration</a>&#160;</td>
          <td class="paramname"><em>config</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_c_b_l_error.html">CBLError</a> *<a class="el" href="_c_b_l___compat_8h.html#a11b365d966cc268be54e8f6cfd1906f8">_cbl_nullable</a>&#160;</td>
          <td class="paramname"><em>outError</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a full-text index. </p>
<p >Indexes are persistent. If an identical index with that name already exists, nothing happens (and no error is returned.) If a non-identical index with that name already exists, it is deleted and re-created. </p><dl class="section warning"><dt>Warning</dt><dd><b>Deprecated :</b> Use CBLCollection_CreateFullTextIndex on the default collection instead. </dd></dl>

</div>
</div>
<a id="gaaf05594d8f1c5d741fa1841aa00782aa" name="gaaf05594d8f1c5d741fa1841aa00782aa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaaf05594d8f1c5d741fa1841aa00782aa">&#9670;&nbsp;</a></span>CBLDatabase_CreateQuery()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_c_b_l___compat_8h.html#aeb687d63109ee195bdc9e16c21d4dc9b">_cbl_warn_unused</a> <a class="el" href="group__queries.html#ga9c80e113b863821f9f82778dc0650f22">CBLQuery</a> *<a class="el" href="_c_b_l___compat_8h.html#a11b365d966cc268be54e8f6cfd1906f8">_cbl_nullable</a> CBLDatabase_CreateQuery </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="group__database.html#ga2eef6f33d930c0cee23013f845dc77e0">CBLDatabase</a> *&#160;</td>
          <td class="paramname"><em>db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__queries.html#ga5b419d879de00f45eb417c451e21ac82">CBLQueryLanguage</a>&#160;</td>
          <td class="paramname"><em>language</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___f_l_slice.html#gabab0e7979cf6c99ffe836e84e55b6c76">FLString</a>&#160;</td>
          <td class="paramname"><em>queryString</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *<a class="el" href="_c_b_l___compat_8h.html#a11b365d966cc268be54e8f6cfd1906f8">_cbl_nullable</a>&#160;</td>
          <td class="paramname"><em>outErrorPos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_c_b_l_error.html">CBLError</a> *<a class="el" href="_c_b_l___compat_8h.html#a11b365d966cc268be54e8f6cfd1906f8">_cbl_nullable</a>&#160;</td>
          <td class="paramname"><em>outError</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a new query by compiling the input string. </p>
<p >This is fast, but not instantaneous. If you need to run the same query many times, keep the <a class="el" href="group__queries.html#ga9c80e113b863821f9f82778dc0650f22">CBLQuery</a> around instead of compiling it each time. If you need to run related queries with only some values different, create one query with placeholder parameter(s), and substitute the desired value(s) with <a class="el" href="group__queries.html#ga3423414402261bfc1a8d66080b09ec96">CBLQuery_SetParameters</a> each time you run the query. </p><dl class="section note"><dt>Note</dt><dd>You must release the <a class="el" href="group__queries.html#ga9c80e113b863821f9f82778dc0650f22">CBLQuery</a> when you're finished with it. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">db</td><td>The database to query. </td></tr>
    <tr><td class="paramname">language</td><td>The query language, <a href="https://github.com/couchbase/couchbase-lite-core/wiki/JSON-Query-Schema">JSON</a> or <a href="https://docs.couchbase.com/server/4.0/n1ql/n1ql-language-reference/index.html">N1QL</a>. </td></tr>
    <tr><td class="paramname">queryString</td><td>The query string. </td></tr>
    <tr><td class="paramname">outErrorPos</td><td>If non-NULL, then on a parse error the approximate byte offset in the input expression will be stored here (or -1 if not known/applicable.) </td></tr>
    <tr><td class="paramname">outError</td><td>On failure, the error will be written here. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The new query object. </dd></dl>

</div>
</div>
<a id="gae03c8979d2c6f21c7bd80b10d0972b24" name="gae03c8979d2c6f21c7bd80b10d0972b24"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae03c8979d2c6f21c7bd80b10d0972b24">&#9670;&nbsp;</a></span>CBLDatabase_CreateValueIndex()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool CBLDatabase_CreateValueIndex </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__database.html#ga2eef6f33d930c0cee23013f845dc77e0">CBLDatabase</a> *&#160;</td>
          <td class="paramname"><em>db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___f_l_slice.html#gabab0e7979cf6c99ffe836e84e55b6c76">FLString</a>&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_c_b_l_value_index_configuration.html">CBLValueIndexConfiguration</a>&#160;</td>
          <td class="paramname"><em>config</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_c_b_l_error.html">CBLError</a> *<a class="el" href="_c_b_l___compat_8h.html#a11b365d966cc268be54e8f6cfd1906f8">_cbl_nullable</a>&#160;</td>
          <td class="paramname"><em>outError</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a value index. </p>
<p >Indexes are persistent. If an identical index with that name already exists, nothing happens (and no error is returned.) If a non-identical index with that name already exists, it is deleted and re-created. </p><dl class="section warning"><dt>Warning</dt><dd><b>Deprecated :</b> Use CBLCollection_CreateValueIndex on the default collection instead. </dd></dl>

</div>
</div>
<a id="gad8d47900512c36f772279e523074386a" name="gad8d47900512c36f772279e523074386a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad8d47900512c36f772279e523074386a">&#9670;&nbsp;</a></span>CBLDatabase_DeleteIndex()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool CBLDatabase_DeleteIndex </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__database.html#ga2eef6f33d930c0cee23013f845dc77e0">CBLDatabase</a> *&#160;</td>
          <td class="paramname"><em>db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___f_l_slice.html#gabab0e7979cf6c99ffe836e84e55b6c76">FLString</a>&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_c_b_l_error.html">CBLError</a> *<a class="el" href="_c_b_l___compat_8h.html#a11b365d966cc268be54e8f6cfd1906f8">_cbl_nullable</a>&#160;</td>
          <td class="paramname"><em>outError</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Deletes an index given its name. </p>
<dl class="section warning"><dt>Warning</dt><dd><b>Deprecated :</b> Use CBLCollection_DeleteIndex on the default collection instead. </dd></dl>

</div>
</div>
<a id="ga1507ee5c64e2a5255205f216772be525" name="ga1507ee5c64e2a5255205f216772be525"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1507ee5c64e2a5255205f216772be525">&#9670;&nbsp;</a></span>CBLDatabase_GetIndexNames()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_c_b_l___compat_8h.html#aeb687d63109ee195bdc9e16c21d4dc9b">_cbl_warn_unused</a> <a class="el" href="group__types.html#ga7ea954b03aea4f33ec0f55f13aba5f90">FLArray</a> CBLDatabase_GetIndexNames </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__database.html#ga2eef6f33d930c0cee23013f845dc77e0">CBLDatabase</a> *&#160;</td>
          <td class="paramname"><em>db</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the names of the indexes on this database, as a Fleece array of strings. </p>
<dl class="section note"><dt>Note</dt><dd>You are responsible for releasing the returned Fleece array. </dd></dl>
<dl class="section warning"><dt>Warning</dt><dd><b>Deprecated :</b> Use CBLCollection_GetIndexNames on the default collection instead. </dd></dl>

</div>
</div>
<a id="gabbf8aefc16da25498f1f9d1ddb9623a4" name="gabbf8aefc16da25498f1f9d1ddb9623a4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gabbf8aefc16da25498f1f9d1ddb9623a4">&#9670;&nbsp;</a></span>CBLQuery_AddChangeListener()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_c_b_l___compat_8h.html#aeb687d63109ee195bdc9e16c21d4dc9b">_cbl_warn_unused</a> <a class="el" href="group__listeners.html#gae39d1de7cc3a46004b597f5eb80620c6">CBLListenerToken</a> * CBLQuery_AddChangeListener </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__queries.html#ga9c80e113b863821f9f82778dc0650f22">CBLQuery</a> *&#160;</td>
          <td class="paramname"><em>query</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__queries.html#ga26504f6654f5812f7e685e7f46db1beb">CBLQueryChangeListener</a>&#160;</td>
          <td class="paramname"><em>listener</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *<a class="el" href="_c_b_l___compat_8h.html#a11b365d966cc268be54e8f6cfd1906f8">_cbl_nullable</a>&#160;</td>
          <td class="paramname"><em>context</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Registers a change listener callback with a query, turning it into a "live query" until the listener is removed (via <a class="el" href="group__listeners.html#gabf0c488ac3bad12daa7d2c7d6ae7f0b4">CBLListener_Remove</a>). </p>
<p >When the first change listener is added, the query will run (in the background) and notify the listener(s) of the results when ready. After that, it will run in the background after the database changes, and only notify the listeners when the result set changes. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">query</td><td>The query to observe. </td></tr>
    <tr><td class="paramname">listener</td><td>The callback to be invoked. </td></tr>
    <tr><td class="paramname">context</td><td>An opaque value that will be passed to the callback. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A token to be passed to <a class="el" href="group__listeners.html#gabf0c488ac3bad12daa7d2c7d6ae7f0b4">CBLListener_Remove</a> when it's time to remove the listener. </dd></dl>

</div>
</div>
<a id="gadef5a733ba8ad85acc107aca0de196ea" name="gadef5a733ba8ad85acc107aca0de196ea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gadef5a733ba8ad85acc107aca0de196ea">&#9670;&nbsp;</a></span>CBLQuery_ColumnCount()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned CBLQuery_ColumnCount </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="group__queries.html#ga9c80e113b863821f9f82778dc0650f22">CBLQuery</a> *&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the number of columns in each result. </p>

</div>
</div>
<a id="ga50ec9db5507921022bc0a1947da9d5eb" name="ga50ec9db5507921022bc0a1947da9d5eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga50ec9db5507921022bc0a1947da9d5eb">&#9670;&nbsp;</a></span>CBLQuery_ColumnName()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_f_l_slice.html">FLSlice</a> CBLQuery_ColumnName </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="group__queries.html#ga9c80e113b863821f9f82778dc0650f22">CBLQuery</a> *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>columnIndex</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the name of a column in the result. </p>
<p >The column name is based on its expression in the <code>SELECT...</code> or <code>WHAT:</code> section of the query. A column that returns a property or property path will be named after that property. A column that returns an expression will have an automatically-generated name like <code>$1</code>. To give a column a custom name, use the <code>AS</code> syntax in the query. Every column is guaranteed to have a unique name. </p>

</div>
</div>
<a id="gad7f061ff248c077acc5d3b79a168ff57" name="gad7f061ff248c077acc5d3b79a168ff57"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad7f061ff248c077acc5d3b79a168ff57">&#9670;&nbsp;</a></span>CBLQuery_CopyCurrentResults()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_c_b_l___compat_8h.html#aeb687d63109ee195bdc9e16c21d4dc9b">_cbl_warn_unused</a> <a class="el" href="group__queries.html#ga9ebc8432e036873fc95f9d575cc42ebd">CBLResultSet</a> *<a class="el" href="_c_b_l___compat_8h.html#a11b365d966cc268be54e8f6cfd1906f8">_cbl_nullable</a> CBLQuery_CopyCurrentResults </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="group__queries.html#ga9c80e113b863821f9f82778dc0650f22">CBLQuery</a> *&#160;</td>
          <td class="paramname"><em>query</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__listeners.html#gae39d1de7cc3a46004b597f5eb80620c6">CBLListenerToken</a> *&#160;</td>
          <td class="paramname"><em>listener</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_c_b_l_error.html">CBLError</a> *<a class="el" href="_c_b_l___compat_8h.html#a11b365d966cc268be54e8f6cfd1906f8">_cbl_nullable</a>&#160;</td>
          <td class="paramname"><em>outError</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the query's <em>entire</em> current result set, after it's been announced via a call to the listener's callback. </p>
<dl class="section note"><dt>Note</dt><dd>You must release the result set when you're finished with it. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">query</td><td>The query being listened to. </td></tr>
    <tr><td class="paramname">listener</td><td>The query listener that was notified. </td></tr>
    <tr><td class="paramname">outError</td><td>If the query failed to run, the error will be stored here. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A new object containing the query's current results, or NULL if the query failed to run. </dd></dl>

</div>
</div>
<a id="ga7a7a711d921f04ae41397f78c140abba" name="ga7a7a711d921f04ae41397f78c140abba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7a7a711d921f04ae41397f78c140abba">&#9670;&nbsp;</a></span>CBLQuery_Execute()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_c_b_l___compat_8h.html#aeb687d63109ee195bdc9e16c21d4dc9b">_cbl_warn_unused</a> <a class="el" href="group__queries.html#ga9ebc8432e036873fc95f9d575cc42ebd">CBLResultSet</a> *<a class="el" href="_c_b_l___compat_8h.html#a11b365d966cc268be54e8f6cfd1906f8">_cbl_nullable</a> CBLQuery_Execute </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__queries.html#ga9c80e113b863821f9f82778dc0650f22">CBLQuery</a> *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_c_b_l_error.html">CBLError</a> *<a class="el" href="_c_b_l___compat_8h.html#a11b365d966cc268be54e8f6cfd1906f8">_cbl_nullable</a>&#160;</td>
          <td class="paramname"><em>outError</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Runs the query, returning the results. </p>
<p >To obtain the results you'll typically call <a class="el" href="group__queries.html#ga7a908902f5f46ff71ae73e5747b4df94">CBLResultSet_Next</a> in a <code>while</code> loop, examining the values in the <a class="el" href="group__queries.html#ga9ebc8432e036873fc95f9d575cc42ebd">CBLResultSet</a> each time around. </p><dl class="section note"><dt>Note</dt><dd>You must release the result set when you're finished with it. </dd></dl>

</div>
</div>
<a id="ga4c6f1b2adc39570525ef32c2df7edead" name="ga4c6f1b2adc39570525ef32c2df7edead"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4c6f1b2adc39570525ef32c2df7edead">&#9670;&nbsp;</a></span>CBLQuery_Explain()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_c_b_l___compat_8h.html#aeb687d63109ee195bdc9e16c21d4dc9b">_cbl_warn_unused</a> <a class="el" href="struct_f_l_slice_result.html">FLSliceResult</a> CBLQuery_Explain </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="group__queries.html#ga9c80e113b863821f9f82778dc0650f22">CBLQuery</a> *&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns information about the query, including the translated SQLite form, and the search strategy. </p>
<p >You can use this to help optimize the query: the word <code>SCAN</code> in the strategy indicates a linear scan of the entire database, which should be avoided by adding an index. The strategy will also show which index(es), if any, are used. </p><dl class="section note"><dt>Note</dt><dd>You are responsible for releasing the result by calling <a class="el" href="group___f_l_slice.html#ga254cef250e1fb2b3cc8668c30373af04">FLSliceResult_Release</a>. </dd></dl>

</div>
</div>
<a id="ga0d7b7f2c00c906b3dc0b140695fd2535" name="ga0d7b7f2c00c906b3dc0b140695fd2535"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0d7b7f2c00c906b3dc0b140695fd2535">&#9670;&nbsp;</a></span>CBLQuery_Parameters()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__types.html#ga20f7b17c87c48ffd2ff6d1cfeddd44e6">FLDict</a> <a class="el" href="_c_b_l___compat_8h.html#a11b365d966cc268be54e8f6cfd1906f8">_cbl_nullable</a> CBLQuery_Parameters </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="group__queries.html#ga9c80e113b863821f9f82778dc0650f22">CBLQuery</a> *&#160;</td>
          <td class="paramname"><em>query</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the query's current parameter bindings, if any. </p>

</div>
</div>
<a id="ga9e9d4b09cb767cdaa820996ea9992f43" name="ga9e9d4b09cb767cdaa820996ea9992f43"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9e9d4b09cb767cdaa820996ea9992f43">&#9670;&nbsp;</a></span>CBLQuery_Release()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void CBLQuery_Release </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="group__queries.html#ga9c80e113b863821f9f82778dc0650f22">CBLQuery</a> *&#160;</td>
          <td class="paramname"><em>t</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="gaeeb90fe92a3c9a32f6956efe3914ade5" name="gaeeb90fe92a3c9a32f6956efe3914ade5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaeeb90fe92a3c9a32f6956efe3914ade5">&#9670;&nbsp;</a></span>CBLQuery_Retain()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static const <a class="el" href="group__queries.html#ga9c80e113b863821f9f82778dc0650f22">CBLQuery</a> * CBLQuery_Retain </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="group__queries.html#ga9c80e113b863821f9f82778dc0650f22">CBLQuery</a> *&#160;</td>
          <td class="paramname"><em>t</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ga3423414402261bfc1a8d66080b09ec96" name="ga3423414402261bfc1a8d66080b09ec96"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3423414402261bfc1a8d66080b09ec96">&#9670;&nbsp;</a></span>CBLQuery_SetParameters()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CBLQuery_SetParameters </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__queries.html#ga9c80e113b863821f9f82778dc0650f22">CBLQuery</a> *&#160;</td>
          <td class="paramname"><em>query</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__types.html#ga20f7b17c87c48ffd2ff6d1cfeddd44e6">FLDict</a>&#160;</td>
          <td class="paramname"><em>parameters</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Assigns values to the query's parameters. </p>
<p >These values will be substited for those parameters whenever the query is executed, until they are next assigned.</p>
<p >Parameters are specified in the query source as e.g. <code>$PARAM</code> (N1QL) or <code>["$PARAM"]</code> (JSON). In this example, the <code>parameters</code> dictionary to this call should have a key <code>PARAM</code> that maps to the value of the parameter. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">query</td><td>The query. </td></tr>
    <tr><td class="paramname">parameters</td><td>The parameters in the form of a Fleece <a class="el" href="group___f_l_dict.html">dictionary</a> whose keys are the parameter names. (It's easiest to construct this by using the mutable API, i.e. calling <a class="el" href="group___mutable.html#ga559b24eb35608bb0596135bdc1482919">FLMutableDict_New</a> and adding keys/values.) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga1bb17015fa56d5df03ae81725beadca5" name="ga1bb17015fa56d5df03ae81725beadca5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1bb17015fa56d5df03ae81725beadca5">&#9670;&nbsp;</a></span>CBLResultSet_GetQuery()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__queries.html#ga9c80e113b863821f9f82778dc0650f22">CBLQuery</a> * CBLResultSet_GetQuery </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="group__queries.html#ga9ebc8432e036873fc95f9d575cc42ebd">CBLResultSet</a> *&#160;</td>
          <td class="paramname"><em>rs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the Query that created this ResultSet. </p>

</div>
</div>
<a id="ga7a908902f5f46ff71ae73e5747b4df94" name="ga7a908902f5f46ff71ae73e5747b4df94"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7a908902f5f46ff71ae73e5747b4df94">&#9670;&nbsp;</a></span>CBLResultSet_Next()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_c_b_l___compat_8h.html#aeb687d63109ee195bdc9e16c21d4dc9b">_cbl_warn_unused</a> bool CBLResultSet_Next </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__queries.html#ga9ebc8432e036873fc95f9d575cc42ebd">CBLResultSet</a> *&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Moves the result-set iterator to the next result. </p>
<p >Returns false if there are no more results. </p><dl class="section warning"><dt>Warning</dt><dd>This must be called <em>before</em> examining the first result. </dd></dl>

</div>
</div>
<a id="gaa1c246d416e05c7e161fe2c894a645ae" name="gaa1c246d416e05c7e161fe2c894a645ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa1c246d416e05c7e161fe2c894a645ae">&#9670;&nbsp;</a></span>CBLResultSet_Release()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void CBLResultSet_Release </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="group__queries.html#ga9ebc8432e036873fc95f9d575cc42ebd">CBLResultSet</a> *&#160;</td>
          <td class="paramname"><em>t</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ga57fdd6216578112e0ec7b5073f910983" name="ga57fdd6216578112e0ec7b5073f910983"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga57fdd6216578112e0ec7b5073f910983">&#9670;&nbsp;</a></span>CBLResultSet_ResultArray()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__types.html#ga7ea954b03aea4f33ec0f55f13aba5f90">FLArray</a> CBLResultSet_ResultArray </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="group__queries.html#ga9ebc8432e036873fc95f9d575cc42ebd">CBLResultSet</a> *&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the current result as an array of column values. </p>
<dl class="section warning"><dt>Warning</dt><dd>The array reference is only valid until the result-set is advanced or released. If you want to keep it for longer, call <a class="el" href="group___f_l_value.html#ga39b06a665f96faf8ff0761ae0bfb1bb9">FLArray_Retain</a> (and release it when done.) </dd></dl>

</div>
</div>
<a id="ga639f61bd8cb0b231b5d54c49389f6a4a" name="ga639f61bd8cb0b231b5d54c49389f6a4a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga639f61bd8cb0b231b5d54c49389f6a4a">&#9670;&nbsp;</a></span>CBLResultSet_ResultDict()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__types.html#ga20f7b17c87c48ffd2ff6d1cfeddd44e6">FLDict</a> CBLResultSet_ResultDict </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="group__queries.html#ga9ebc8432e036873fc95f9d575cc42ebd">CBLResultSet</a> *&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the current result as a dictionary mapping column names to values. </p>
<dl class="section warning"><dt>Warning</dt><dd>The dict reference is only valid until the result-set is advanced or released. If you want to keep it for longer, call <a class="el" href="group___f_l_value.html#ga4cf12a028b37087aab8674bf8c96ab93">FLDict_Retain</a> (and release it when done.) </dd></dl>

</div>
</div>
<a id="gaf2d0bfa628803e3d85b5db0afd6b6ba9" name="gaf2d0bfa628803e3d85b5db0afd6b6ba9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf2d0bfa628803e3d85b5db0afd6b6ba9">&#9670;&nbsp;</a></span>CBLResultSet_Retain()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static const <a class="el" href="group__queries.html#ga9ebc8432e036873fc95f9d575cc42ebd">CBLResultSet</a> * CBLResultSet_Retain </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="group__queries.html#ga9ebc8432e036873fc95f9d575cc42ebd">CBLResultSet</a> *&#160;</td>
          <td class="paramname"><em>t</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="gae5ce9eb45abb997951a8fda71b309d35" name="gae5ce9eb45abb997951a8fda71b309d35"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae5ce9eb45abb997951a8fda71b309d35">&#9670;&nbsp;</a></span>CBLResultSet_ValueAtIndex()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__types.html#gae0bde7a426f944395dbe59e3d52ba2c7">FLValue</a> CBLResultSet_ValueAtIndex </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="group__queries.html#ga9ebc8432e036873fc95f9d575cc42ebd">CBLResultSet</a> *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>index</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the value of a column of the current result, given its (zero-based) numeric index. </p>
<p >This may return a NULL pointer, indicating <code>MISSING</code>, if the value doesn't exist, e.g. if the column is a property that doesn't exist in the document. </p>

</div>
</div>
<a id="ga1e4443df45a4e56714a1790b841f0b0e" name="ga1e4443df45a4e56714a1790b841f0b0e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1e4443df45a4e56714a1790b841f0b0e">&#9670;&nbsp;</a></span>CBLResultSet_ValueForKey()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__types.html#gae0bde7a426f944395dbe59e3d52ba2c7">FLValue</a> CBLResultSet_ValueForKey </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="group__queries.html#ga9ebc8432e036873fc95f9d575cc42ebd">CBLResultSet</a> *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___f_l_slice.html#gabab0e7979cf6c99ffe836e84e55b6c76">FLString</a>&#160;</td>
          <td class="paramname"><em>key</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the value of a column of the current result, given its name. </p>
<p >This may return a NULL pointer, indicating <code>MISSING</code>, if the value doesn't exist, e.g. if the column is a property that doesn't exist in the document. (Or, of course, if the key is not a column name in this query.) </p><dl class="section note"><dt>Note</dt><dd>See <a class="el" href="group__queries.html#ga50ec9db5507921022bc0a1947da9d5eb">CBLQuery_ColumnName</a> for a discussion of column names. </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.4
</small></address>
</body>
</html>
